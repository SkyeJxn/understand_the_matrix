<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: TutorialLevel.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: TutorialLevel.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use client";
import './TutorialLevel.css'
import { InlineMath } from 'react-katex';
import { useState, useEffect } from "react";
import {LevelEndContent, NavigationArrows, Toolbar} from './LevelTools';
import React from "react";

/**
 * Component that renders the content of a given Level
 * 
 * @param {number} level_id - Passes the Level Number
 * @returns {JSX.Element}
 */
export function TutorialLevel({ level_id = "1" }) {

  const [tutorialData, setTutorialData] = useState([]);

  useEffect(() => {
    fetch("/data/tutorial_data.json")
    .then(res => res.json())
    .then(data => setTutorialData(data))
  }, []);

  const [page, setPage] = useState("1");
  const [currentPart, setCurrentPart] = useState(1);
  const [progressValue, setProgressValue] = useState(0);

  // number of parts in the level
  const partsOnLevel = Math.max(0, ...tutorialData
      .filter(e => e.id === level_id)
      .map(e => Number(e.part))
  );

  // number of parts on a page
  function getMaxPart(page) {
    const partsOnPage = tutorialData
      .filter(row => row.id === level_id &amp;&amp; row.page === page)
      .map(row => Number(row.part));
    return Math.max(...partsOnPage, 0);
  }

  function next() {
    const maxPart = getMaxPart(page);
    if (currentPart &lt; maxPart) {
      setCurrentPart(prev => prev + 1);
      
    } else {
      // next page
      setPage(String(Number(page) + 1));
      setCurrentPart(prev => prev + 1);
    }
    if (partsOnLevel > 0) setProgressValue(prev => prev + (100/partsOnLevel));
  }

  function back() {
    const prevPage = String(Number(page) - 1);
    if (Number(prevPage) >= 1) {
      setPage(prevPage);
      setCurrentPart(getMaxPart(prevPage)); // View full page
    }
  }

  function nextLevel(){
    const exists = tutorialData.some(row => row.id == (Number(level_id)+1));
    if(exists) return (Number(level_id)+1);
    return null;
  }

  return (
    &lt;div>
      &lt;Toolbar mode='tutorial' progressValue={progressValue} />
      {currentPart &lt;= partsOnLevel ? (&lt;>
      
        &lt;div className='content'>
          &lt;Content id={level_id} page={page} part={currentPart} tutorialData={tutorialData} />
        &lt;/div>
        &lt;NavigationArrows onBack={back} onNext={next}/>
        
      &lt;/>): (
        &lt;LevelEndContent nextLevel={nextLevel()}/>
        )}
    &lt;/div>
  );
}

function Content({ id, page, part, tutorialData }) {
  // all parts to the current part
  const data = tutorialData.filter(
    row => row.id === id &amp;&amp; row.page === page &amp;&amp; Number(row.part) &lt;= part
  );

  return (
    &lt;div>
      {data.map((row, i) => (
        &lt;React.Fragment key={i}>
          {row.typ === "title" &amp;&amp; &lt;div className='titel'>{row.content}&lt;/div>}
          {row.typ === "text" &amp;&amp; &lt;div className='text'>{row.content}&lt;/div>}
          {row.typ === "katex" &amp;&amp; &lt;InlineMath className='katex' math={row.content} />}
        &lt;/React.Fragment>
      ))}
    &lt;/div>
  );
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AddRows">AddRows</a></li><li><a href="global.html#CalcButtons">CalcButtons</a></li><li><a href="global.html#EditableMatrix">EditableMatrix</a></li><li><a href="global.html#LevelEndContent">LevelEndContent</a></li><li><a href="global.html#MultiplyRow">MultiplyRow</a></li><li><a href="global.html#NavigationArrows">NavigationArrows</a></li><li><a href="global.html#StaticMatrix">StaticMatrix</a></li><li><a href="global.html#SwitchRows">SwitchRows</a></li><li><a href="global.html#Toolbar">Toolbar</a></li><li><a href="global.html#TutorialLevel">TutorialLevel</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Wed Nov 26 2025 21:41:00 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
